(window.ad=(window.ad||{})).feed=new function(){var j={},b={},g=function(){b={}},h=function(){j={}},p=function(){if(window.EAS_server){return EAS_server}else{return""}},d=function(t,w,u){for(var v=t;w>1;w--){v+=",";v+=t}return p()+"/eas?"+u+"&cre=mu&js=y&dont_log=1&exclCamp=1&EAScus="+v},f=function(t,w,v,u){return p()+"/eas?"+u+"&cre=log&cu="+t+"&camp="+w+"&no="+v+"&ord="+a()},a=function(t){if(t<0||!t){t=1}return Math.round(new Date().getTime()/t)},r=function(x){var t=[],y,w;t.push("time="+a(1000));for(var v=1,u=0;u<x.length;u++,v=!v){if(v){y=x[u];w=x[u+1];if(y){t.push([y,encodeURIComponent(w)].join("="))}}}return t.join("&")},c=function(){var x={},v=[],t=function(z){for(var y in z){u=z[y];if(u){x[y]=u}}},u;t(j);t(b);for(var w in x){v.push(w);v.push(x[w])}return r(v)},m=function(u){var w=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],t=document.createElement("script"),v=function(){var x=function(){if(t&&t.parentNode){t.parentNode.removeChild(t)}};setTimeout(x,3*1000)};if(w){t.setAttribute("src",u);w.appendChild(t);v()}},e=0,q=0,s=0,o=[],l={},n=function(z,t,y,v){var x=c(),w=[],u=function(){n(z,t,y,v)};if(s){o.push(u)}else{s=1;q=function(A){v(w,A);q=0;s=0;if(o.length){o.pop()()}},e=function(A,C,B){if(B){B.log=f(t,A,C,x);w.push(B)}if(!--y){q()}};m(d(t,y,x))}},k=function(t,v,u){if(e){e(t,v,u)}},i=function(){if(q){q(1)}};this.fetch=n;this.parse=k;this.eof=i;this.pagechange=g;this.sitechange=h;(function(A){var w=["site","page"],B=["cat1","cat2","cat3","kw","kw2","kw3","sw","sw2","sw3"],y=j,t=function(E,D,F){var C=function(G){F[D]=G;return E};return C};for(var v=0,u=0,z=0;z<w.length;z++){if(z){y=b}for(var x=0;x<B.length;x++){v=w[z];u=B[x];if(A[v]){A[v][u]=t(A[v],u,y)}else{A[v]={};A[v][u]=t(A[v],u,y)}}}})(this);this.__BUILD="2009-09-17-d7d6f06 804c3e385bf7126e93c62174455d513d41fe7d54"};window.ad.feed.ui={render:function(u,e,p){var o=[],d=[],A=0,D=function(F,h){var w=function(H,G){H=d.splice(Math.max(0,d.length-F),Math.min(F,d.length)).concat(H);d=d.concat(H.splice(Math.max(0,H.length-F)*-1,H.length-F));if(G){A=1;if(H.length<F){H=H.concat(o.splice(0,F-H.length));o=[]}}h(H)};if(A){w([],1)}else{if(!(F>d.length)){w(d.splice(d.length-F,F));return}window.ad.feed.fetch(u,e,F+Math.max(0,(p.buffer||t*(p.updates||1))),w)}},x=function(h){if(A){return d.length&&h<(o.length+d.length)}else{return 1}},f=window.jQuery,z=0,r=0,n=0,t=0,b=0,q=0,B=0,g=0,i=[],v=function(h){r.children().animate({marginLeft:-q*(g=h)},p.speed||"slow")},a=function(){r.children().append(n.clone());v(g+1)},E=function(w,G,I){var h=0,J=0,H,F;r.find(".ad-feed-item").each(function(){if(h++<I){return}else{if(G<w.length){H=w[G++];F=f(this);if(H&&H.content&&H.content_type=="text"){s(H.content,F);j(H);J++}}}});if(G<w.length){a();J+=E(w,G,h+J)}return J},l=function(h){b+=E(h,0,b)},s=function(w,h){h.find(".ad-feed-title").html(w.title).after(" ").end().find(".ad-feed-text").html(w.text).after(" ").end().find(".ad-feed-link").html(w.linktext).after(" ").end().find(".ad-feed-img").each(function(){if(w.img&&w.img!="none"){f(this).html("<img>").children().css("height",w.img_h).css("width",w.img_w).attr("title",w.linktext).attr("src",(w.img.match(/^url\(['"]?(.*[^'"])['"]?\)$/)||[])[1]).show()}}).end().contents().andSelf().bind("click",y).bind("click",w,c).css("cursor","pointer");if(w.format&&w.format!="none"){h.addClass(w.format)}h.show()},j=function(h){if(!h.log){return}new Image(1,1).src=h.log;h.log=0},c=function(h){if(h.data&&h.data.link){window.open(h.data.link);return false}},k=function(h){if(g==Math.max(0,p.updates||0)){return}if(g+1<(b/t)){v(g+1)}else{if(x(t)){D(t,l)}}},m=function(h){if(g){v(g-1)}},y=function(){while(i&&i.length){clearTimeout(i.pop())}},C=function(){var h=function(w){if(b+=E(w,0,b)){z.show();if(d.length||!A){o=w;for(var H=Math.max(0,p.update_auto||0),G=Math.max(1000,p.update_auto_ms||0),F=0;F<H;){i.push(setTimeout(k,G*++F))}}}};z=f(u);r=f(".ad-feed-viewport",z);t=f(".ad-feed-viewport .ad-feed-item",z).length;if(t){q=z.width();B=z.height();n=r.css("width",q).css("overflow","hidden").wrapInner("<div></div>").wrapInner("<div></div>").find(">div").css("width",q+q*Math.max(0,p.updates||0)).find(">div").css("width",q).css("float","left").clone();z.find(".ad-feed-back").children().andSelf().bind("click",y).bind("click",m).css("cursor","pointer");z.find(".ad-feed-next").children().andSelf().bind("click",y).bind("click",k).css("cursor","pointer");D(t,h)}};if(f){f(C)}}};